<div id="msg" *ngIf="showSuccessMsg" class="alert alert-success">
  <strong> {{successMsg}}</strong>
</div>
<ul *ngIf="showFailureMsg" class=" alert alert-danger">
  <li *ngFor="let error of serverErrors">
    {{error}}
  </li>
</ul>


<div class="col-md-2 col-sm-1 col-lg-10">
  <form [formGroup]="postStoryForm" (ngSubmit)="postStory()" novalidate>
    <fieldset>
      <legend class="text-primary"> Post A Story</legend>
      <div class="form-group">
        <input class="form-control" placeholder="Enter Story Title" formControlName="ssTitle">
        <div *ngIf="ssTitle.touched && ssTitle.invalid" class="alert alert-danger">
          Story Title is Required.
        </div>
      </div>
      <br />

      <div class="form-group">
        <textarea class="form-control" placeholder="Enter Story Description" formControlName="ssDescription"></textarea>
        <div *ngIf="ssDescription.touched && ssDescription.invalid" class="alert alert-danger">
          Story Description is Required.
        </div>
      </div><br />
      <button class="btn btn-primary btn-lg" [disabled]="postStoryForm.invalid" type="submit">Create</button>


    </fieldset>
  </form>
</div>
<br>


<hr />
<ul class="nav nav-tabs bg-primary">
   <li class="nav-item  bg-primary">
     <a class="nav-link active" data-toggle="tab" href="#approve">Approved</a>
   </li>
      <li class="nav-item bg-primary">
       <a class="nav-link" data-toggle="tab" href="#pending">Pending</a>
      </li>
</ul>
<br />
<div id="myTabContent" class="tab-content">
  <div class="tab-pane fade active show" id="approve">
    <table *ngIf="approveStories.length>0" class="table table-hover">
      <thead>
        <tr class="table-primary">
          <th>Title</th>
          <th>Story</th>
          <th>Likes</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let story of approveStories|orderBy:'ssId':true |paginate:{itemsPerPage:3, currentPage:p}">
          <td>{{story.ssTitle}}</td>
          <td>{{story.ssDescription}}</td>
          <td>{{story.like}}</td>
        </tr>
      </tbody>
    </table>

    <ul class="pagination">
      <pagination-controls (pageChange)="p = $event"></pagination-controls>
    </ul>
  </div>


  <div class="tab-pane fade" id="pending">
    <table *ngIf="pendingStories.length>0" class="table table-hover">
      <thead>
        <tr class="table-primary">
          <th>Title</th>
          <th>Story</th>
          <th>Likes</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let story of pendingStories|orderBy:'ssId':true |paginate:{itemsPerPage:3, currentPage:p}">
          <td>{{story.ssTitle}}</td>
          <td>{{story.ssDescription}}</td>
          <td>{{story.like}}</td>
        </tr>
      </tbody>
    </table>

    <ul class="pagination">
      <pagination-controls (pageChange)="p = $event"></pagination-controls>
    </ul>
  </div>
</div>
